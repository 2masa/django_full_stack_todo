{% load ui_components %}
<div id="AddTodo" class="form-modal-overlay">
    <div class="modal-box">
        <h2 class="modal-title">Add Todo</h2>
        <button onclick="closeModal('AddTodo')" class="modal-close-button">&times;</button>
      <form onsubmit="return false;">
        <div class="form-group">
          <label class="form-label" for="title">Title</label>
          <input type="text" name="title" id="title" class="form-input" required />
        </div>
        <div class="form-group">
          <label class="form-label" for="priority">Priority</label>
          {% drop_down priority_options 'priority' 'priority' %}
        </div>
        <div class="form-group">
          <label class="form-label" for="status">Status</label>
          {% drop_down status_options 'status' 'status' %}
        </div>
        <div class="form-group">
          <label class="form-label" for="description">Description</label>
          <textarea name="description" id="description" class="form-textarea"></textarea>
        </div>
        <div class="modal-footer">
          <button type="button" onclick="closeModal('AddTodo')" class="btn">Close</button>
          <button 
            class="btn" 
            hx-post="{% url 'add_todo' %}" 
            hx-trigger="click"
            hx-ext="json-enc"
            hx-vals='js:{
            "title": document.getElementById("title").value,
            "description": document.getElementById("description").value,
            "priority": document.getElementById("priority").value,
            "status": document.getElementById("status").value
            }' 
            hx-target="#AddTodo" 
            hx-swap="none">
            Add Todo
          </button>
        </div>
      </form>
    </div>
</div>